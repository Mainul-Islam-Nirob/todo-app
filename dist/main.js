(()=>{const e=(e,t,o,n)=>({title:e,description:t,dueDate:o,priority:n}),t=e=>({name:e,todos:[]}),o=[],n=e=>{const n=t(e);o.push(n),r(),d()};console.log(o);const d=()=>{const e=document.getElementById("project-list");e.innerHTML="",o.forEach(((t,o)=>{const n=document.createElement("div");n.classList.add("project");const d=document.createElement("span");d.classList.add("project-name"),d.textContent=t.name;const c=document.createElement("div");c.classList.add("projectBtns");const s=document.createElement("i");s.classList.add("projectBtn","fa-solid","fa-pen-to-square"),s.onclick=()=>editProject(o);const i=document.createElement("i");i.classList.add("projectBtn","fa-regular","fa-trash"),i.onclick=()=>deleteProject(o);const r=document.createElement("i");r.classList.add("projectBtn","fa-sharp","fa-solid","fa-plus"),r.onclick=()=>{a=o,l("todoModal")},c.appendChild(s),c.appendChild(i),c.appendChild(r),n.appendChild(d),n.appendChild(c),e.appendChild(n)}))},c=e=>{const t=document.getElementById("todo-list");t.innerHTML="",console.log("project index",e),o[e].todos.forEach(((n,d)=>{console.log("todo from loop",n,d);const l=document.createElement("div");l.classList.add("todoItem");const s=document.createElement("div");s.classList.add("t-title"),s.textContent=n.title,l.appendChild(s);const a=document.createElement("div");a.classList.add("t-description"),a.textContent=n.description,l.appendChild(a);const i=document.createElement("div");i.classList.add("t-priority"),i.textContent=`Priority: ${n.priority}`,l.appendChild(i);const m=document.createElement("div");m.classList.add("t-dueDate"),m.textContent=`Due: ${n.dueDate}`,l.appendChild(m);const p=document.createElement("div");p.classList.add("edit-item");const u=document.createElement("span");u.classList.add("edit-btn"),u.textContent="Edit",u.addEventListener("click",(()=>{console.log(`Editing todo at index ${d}`)})),p.appendChild(u);const E=document.createElement("span");E.classList.add("edit-btn"),E.textContent="Delete",E.addEventListener("click",(()=>{o[e].todos.splice(d,1),c(e),r()})),p.appendChild(E),l.appendChild(p),t.appendChild(l)}))},l=e=>{const t=document.getElementById(e);t.style.display="block",t.querySelector(".closeBtn").addEventListener("click",(()=>{t.style.display="none"}))};let s="";document.getElementById("low-btn").addEventListener("click",(()=>{s="Low",i("low-btn","high-btn")})),document.getElementById("high-btn").addEventListener("click",(()=>{s="High",i("high-btn","low-btn")}));let a=0;function i(e,t){console.log("Selected ID:",e),console.log("Other ID:",t);const o=document.getElementById(e),n=document.getElementById(t);o&&(o.classList.add("selected"),console.log(o),console.log("change selected button style")),n&&(n.classList.remove("selected"),console.log("change other button style"))}document.getElementById("show-todo-modal").addEventListener("click",(()=>l("todoModal"))),document.getElementById("show-project-modal").addEventListener("click",(()=>l("projectModal"))),document.getElementById("todo-form").addEventListener("submit",(t=>{t.preventDefault(),console.log("clicked add todo");const n=document.getElementById("title").value,d=document.getElementById("details").value,l=document.getElementById("date").value;if(!s)return void alert("Please select a priority!");const m=s;console.log(n,d,l,m);const p=e(n,d,l,m);console.log("todo details",p),((e,t)=>{console.log("from add to do project",t),o[e].todos.push(t),r(),c(e)})(a,p),document.getElementById("todoModal").style.display="none",document.getElementById("todo-form").reset(),s="",i()})),document.getElementById("project-form").addEventListener("submit",(e=>{e.preventDefault(),console.log("clicked add");const t=document.getElementById("projectName").value;console.log("project name",t),n(t),document.getElementById("projectModal").style.display="none",document.getElementById("project-form").reset()}));const r=()=>{localStorage.setItem("todoAppData",JSON.stringify(o))};document.addEventListener("DOMContentLoaded",(()=>{const l=localStorage.getItem("todoAppData");l?(JSON.parse(l).forEach((n=>{const d=t(n.name);n.todos.forEach((t=>{d.todos.push(e(t.title,t.description,t.dueDate,t.priority))})),o.push(d)})),d(),o.length>0&&c(0)):n("Default Project")}))})();