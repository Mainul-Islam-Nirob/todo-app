(()=>{const e=(e,t,o,n)=>({title:e,description:t,dueDate:o,priority:n}),t=e=>({name:e,todos:[]}),o=[],n=()=>{const e=document.getElementById("project-list");e.innerHTML="",o.forEach(((t,o)=>{const n=document.createElement("li");n.textContent=t.name,n.addEventListener("click",(()=>d(o))),e.appendChild(n)}))},d=e=>{const t=document.getElementById("todo-list");t.innerHTML="",o[e].todos.forEach((e=>{const o=document.createElement("li");o.textContent=`${e.title} - ${e.dueDate}`,t.appendChild(o)}))},c=e=>{const t=document.getElementById(e);t.style.display="block",t.querySelector(".closeBtn").addEventListener("click",(()=>{t.style.display="none"}))};document.getElementById("addTodo").addEventListener("click",(()=>c("todoModal"))),document.getElementById("add-project-btn").addEventListener("click",(()=>c("projectModal"))),document.getElementById("modal-form").addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("title").value,c=document.getElementById("description").value,l=document.getElementById("date").value,a=document.querySelector('input[name="priority"]:checked').value;var s;s=e(n,c,l,a),o[0].todos.push(s),d(0),document.getElementById("todoModal").style.display="none",document.getElementById("modal-form").reset()})),(()=>{const d=localStorage.getItem("todoAppData");d?(JSON.parse(d).forEach((n=>{const d=t(n.name);n.todos.forEach((t=>{d.todos.push(e(t.title,t.description,t.dueDate,t.priority))})),o.push(d)})),n()):(e=>{const d=t("Default Project");o.push(d),n()})()})()})();